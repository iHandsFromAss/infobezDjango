<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}UX CRAFT{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Использование Inter для основного текста и Montserrat для заголовков -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        /* Tailwind CSS Custom Colors from index.html */
        :root {
            --color-primary-green: #B0C18E; /* Мягкий, приглушенный зеленый/хаки */
            --color-light-beige-green: #EBF0E3; /* Очень светлый, почти бежево-зеленый */
            --color-dark-accent-green: #6B8E23; /* Темный акцентный зеленый */
            --color-dark-text: #333333; /* Темно-серый для основного текста */
            --color-medium-text: #666666; /* Средне-серый для второстепенного текста */
            --color-light-text: #888888; /* Светло-серый для заголовков */
            --color-footer-background: #4A533A; /* Темный, землистый оттенок для подвала */
        }

        /* Configure Tailwind to use custom colors */
        .tailwind-config {
            /* This invisible block allows Tailwind to pick up custom colors */
            @apply bg-[var(--color-primary-green)] bg-[var(--color-light-beige-green)] text-[var(--color-dark-accent-green)] text-[var(--color-dark-text)] text-[var(--color-medium-text)] text-[var(--color-light-text)] bg-[var(--color-footer-background)];
        }

        html {
            scroll-behavior: smooth; /* Для плавного скролла */
        }
        body {
            font-family: 'Inter', sans-serif; /* Основной шрифт */
            @apply bg-gray-100 text-gray-800 antialiased; /* Светлый фон, темный текст */
            margin-top: 70px; /* Отступ сверху для фиксированного хедера */
            overflow-x: hidden; /* Предотвращаем горизонтальную прокрутку */
            display: flex; /* Для корректного позиционирования футера внизу */
            flex-direction: column; /* Элементы будут выстраиваться в колонку */
            min-height: 100vh; /* Минимальная высота, чтобы футер был внизу */
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', sans-serif; /* Шрифт для заголовков */
        }
        /* Стиль для хедера, чтобы он имитировал фон с изображений */
        .header-bg {
            background-color: #2c2c2c; /* Темный фон, как на фото */
            position: relative;
            overflow: hidden; /* Скрываем выходящие за границы элементы, например, ноутбук */
        }
        /* Анимации для плавного появления секций */
        .fade-in-section {
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Custom styles for navigation buttons - NEW HOVER EFFECT */
        .nav-button {
            @apply relative overflow-hidden
                   bg-white /* Фон кнопок - белый */
                   text-[var(--color-dark-accent-green)] /* Цвет текста - темно-акцентный зеленый */
                   font-bold /* Жирный текст */
                   px-6 py-3 /* Увеличенные отступы для размера */
                   rounded-xl /* Более мягкие закругленные углы */
                   shadow-lg /* Улучшенная тень для глубины */
                   transition-all duration-300 ease-in-out /* Плавные переходы */
                   whitespace-nowrap /* Предотвращаем перенос текста */
                   z-60; /* Убедимся, что кнопки находятся поверх других элементов хедера */
                   /*border-2 border-[var(--color-light-beige-green)]; /* Тонкая светлая рамка */

            /* New Hover effect: glow and text color change */
            &:hover {
                @apply text-white; /* Наведение: текст белый */
                background-color: var(--color-dark-accent-green); /* Фон темно-акцентный зеленый */
                box-shadow: 0 0 20px 8px rgba(107, 142, 35, 0.7); /* Более выраженное зеленое свечение */
                border-color: transparent; /* Рамка исчезает при наведении */
            }

            /* Active effect: subtle press down */
            &:active {
                @apply scale-98; /* Небольшое уменьшение размера при нажатии */
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2), inset 0 2px 5px rgba(0, 0, 0, 0.1); /* Эффект вдавливания */
            }

            /* Ripple/shine effect on hover - FIXED TO COVER ALL BUTTONS */
            &::before {
                content: '';
                position: absolute;
                top: 0;
                left: 100%; /* Начало эффекта слева за пределами кнопки */
                width: 200%; /* Увеличенная ширина для полного покрытия, учитывая скос */
                height: 100%;
                background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.4), transparent); /* Градиентный блеск */
                transform: skewX(-20deg);
                transition: transform 0.7s ease-out; /* Более плавная анимация */
                z-index: -1; /* Под текстом кнопки */
            }

            &:hover::before {
                transform: skewX(-20deg) translateX(50%); /* Перемещаем эффект направо, чтобы покрыть всю кнопку */
            }
        }

        /* Стили для десктопной навигации */
        .desktop-nav-container {
            display: flex;
            flex-grow: 1; /* Позволяет контейнеру занимать доступное пространство */
            justify-content: flex-end; /* Выравнивание кнопок вправо */
        }

        /* Медиа-запросы для адаптивности */
        @media (max-width: 767px) {
            .desktop-nav-container {
                display: none; /* Скрываем десктопную навигацию на мобильных */
            }
            .hamburger-button {
                display: block; /* Показываем кнопку гамбургера на мобильных */
            }
            .header-bg img { /* Корректировка размера ноутбука на мобильных */
                width: 100%;
                max-width: 400px; /* Ограничение максимальной ширины */
                left: 50%;
                transform: translateX(-50%) translateY(10%); /* Перемещаем ниже для лучшего вида на мобильных */
            }
        }

        /* Стили для кнопки гамбургера */
        .hamburger-button {
            display: none; /* Скрыто по умолчанию на больших экранах */
        }
        /* Мобильное меню */
        .mobile-menu-overlay {
            display: none; /* Скрыто по умолчанию */
            background-color: rgba(0, 0, 0, 0.75);
        }
        .mobile-menu-sidebar {
            transform: translateX(100%); /* Скрыто за пределами экрана */
            transition: transform 0.3s ease-in-out;
        }
        .mobile-menu-sidebar.open {
            transform: translateX(0); /* Открыто */
        }

        /* Анимация для логотипа */
        @keyframes logoPopIn {
            0% { opacity: 0; transform: scale(0.5) translateY(-20px); }
            80% { opacity: 1; transform: scale(1.05) translateY(5px); }
            100% { transform: scale(1) translateY(0); }
        }

        .logo-animation {
            animation: logoPopIn 0.8s ease-out forwards;
        }

        /* Styles for the footer that were in index.html */
        footer {
            background-color: var(--color-footer-background); /* Используем темный землистый цвет */
            color: white; /* Белый текст на темном фоне */
            padding: 2rem 1rem;
            text-align: center;
            border-top-left-radius: 40px;
            border-top-right-radius: 40px;
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.1);
            margin-top: auto; /* Прижимает футер к нижней части страницы */
        }
    </style>
    {% block extra_head %}
    <!-- Дополнительные элементы для head из дочерних шаблонов -->
    {% endblock %}
</head>
<body class="flex flex-col min-h-screen">

    <!-- Хедер - теперь фиксированный и включает навигацию -->
    <header class="fixed top-0 left-0 right-0 bg-[var(--color-primary-green)] bg-opacity-80 shadow-lg py-3 px-4 backdrop-blur-sm z-50">
        <div class="container mx-auto flex items-center justify-between">
            <!-- Логотип -->
            <div class="text-2xl font-extrabold text-white">
                <a href="{% url 'index' %}" class="flex items-center">
                    <img src="/static/img/design-Photoroom.png" alt="UX Craft" class="h-12 md:h-13 mr-2 rounded-lg logo-animation">
                </a>
            </div>

            <!-- Десктопная навигация -->
            <nav class="desktop-nav-container hidden md:flex space-x-4">
                <a href="{% url 'index' %}" class="nav-button">Главная</a>
                <a href="{% url 'general_statistics' %}" class="nav-button">Общая статистика</a>
                <a href="{% url 'demand_page' %}" class="nav-button">Востребованность</a>
                <a href="{% url 'geography_statistics' %}" class="nav-button">География</a>
                <a href="{% url 'skills_statistics' %}" class="nav-button">Навыки</a>
                <a href="{% url 'latest_vacancies' %}" class="nav-button">Вакансии</a>
            </nav>

            <!-- Кнопка гамбургер-меню для мобильных -->
            <div class="md:hidden">
                <button id="open-mobile-menu" class="text-white focus:outline-none">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Мобильное меню (оверлей) -->
    <div id="mobile-menu-overlay" class="fixed inset-0 bg-gray-900 bg-opacity-75 z-40 hidden"></div>

    <!-- Мобильное меню (боковая панель) -->
    <nav id="mobile-menu-sidebar" class="fixed top-0 right-0 w-64 h-full bg-white shadow-lg z-50 transform translate-x-full transition-transform duration-300 ease-in-out mobile-menu-sidebar">
        <div class="p-6 text-right">
            <button id="close-mobile-menu" class="text-gray-600 hover:text-gray-900 focus:outline-none text-3xl">
                &times;
            </button>
        </div>
        <ul class="flex flex-col gap-4 p-6">
            <li><a href="{% url 'index' %}" class="text-gray-800 hover:text-[var(--color-dark-accent-green)] font-medium text-lg">Главная</a></li>
            <li><a href="{% url 'general_statistics' %}" class="text-gray-800 hover:text-[var(--color-dark-accent-green)] font-medium text-lg">Общая статистика</a></li>
            <li><a href="{% url 'demand_page' %}" class="text-gray-800 hover:text-[var(--color-dark-accent-green)] font-medium text-lg">Востребованность</a></li>
            <li><a href="{% url 'geography_statistics' %}" class="text-gray-800 hover:text-[var(--color-dark-accent-green)] font-medium text-lg">География</a></li>
            <li><a href="{% url 'skills_statistics' %}" class="text-gray-800 hover:text-[var(--color-dark-accent-green)] font-medium text-lg">Навыки</a></li>
            <li><a href="{% url 'latest_vacancies' %}" class="text-gray-800 hover:text-[var(--color-dark-accent-green)] font-medium text-lg">Вакансии</a></li>
        </ul>
    </nav>

    <!-- Основная область контента -->
    <main class="flex-1">
        {% block content %}
        {% endblock %}
    </main>

    <!-- Футер -->
    <footer>
        <p>2025 UX Craft.</p>
        <p class="mt-2 text-sm">
            <p class="hover:text-gray-300 transition-colors duration-300">Дымшакова Мария Денисовна РИ-231002</p>
        </p>
    </footer>

    <script>
        // JavaScript для управления мобильным меню
        document.addEventListener('DOMContentLoaded', function() {
            const openMenuBtn = document.getElementById('open-mobile-menu');
            const closeMenuBtn = document.getElementById('close-mobile-menu');
            const mobileMenuSidebar = document.getElementById('mobile-menu-sidebar');
            const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');

            // Функция для открытия мобильного меню
            function openMobileMenu() {
                mobileMenuSidebar.classList.add('open');
                mobileMenuSidebar.classList.remove('translate-x-full');
                mobileMenuOverlay.classList.remove('hidden');
            }

            // Функция для закрытия мобильного меню
            function closeMobileMenu() {
                mobileMenuSidebar.classList.remove('open');
                mobileMenuSidebar.classList.add('translate-x-full');
                mobileMenuOverlay.classList.add('hidden');
            }

            if (openMenuBtn) {
                openMenuBtn.addEventListener('click', openMobileMenu);
            }

            if (closeMenuBtn) {
                closeMenuBtn.addEventListener('click', closeMobileMenu);
            }

            if (mobileMenuOverlay) {
                mobileMenuOverlay.addEventListener('click', closeMobileMenu);
            }

            // Закрывать мобильное меню при клике на ссылку внутри него
            mobileMenuSidebar.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', closeMobileMenu);
            });

            // Intersection Observer для анимации появления секций
            const sections = document.querySelectorAll('.fade-in-section');

            const observerOptions = {
                root: null, // viewport
                rootMargin: '0px',
                threshold: 0.1 // Когда 10% элемента видно
            };

            const sectionObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                sectionObserver.observe(section);
            });
        });
    </script>
</body>
</html>
